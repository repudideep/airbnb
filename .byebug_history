c
continue
@homes
continue
@homes
continue
bookings.any?
if bookings.size=0
continue
bookings.size
Home.where('id NOT IN (?)',bookings.collect{|b| b.home_id})
bookings.collect{|b| b.home_id}
Home.where('place=? AND id NOT IN (?)',place, bookings.collect{|b| b.home_id})
Home.where('place=?',place)
@homes
continue
bookings
continue
debugger
continue
bookings
 Booking.where("(\"bookings\".\"to\" >= :start_date AND \"bookings\".\"from\" <= :start_date)",{start_date: from_date})
 Booking.where("(\"bookings\".\"to\" >= :start_date AND \"bookings\".\"from\" <= :start_date,{start_date: from_date})
 Booking.where("(\"bookings\".\"to\" >= :start_date AND \"bookings\".\"from\" <= :start_date,start_date:from_date)
Booking.where("bookings.to >= :start_date Booking.where("(\"bookings\".\"to\" >= :start_date)
to_date
from_date
bookings
continue
params
continue
Chronic.parse(from)
Chronic.parse(from_date)
from_date
continue
session
continue
session
continue
current_user
continue
break
continue
current_user
continue
current_user
@user
signed_in?
continue
session[:return_to]
session
session[return_to]
flash
if @user.save
continue
session[:return_to]
continue
store_location
continue
signed_in?
continue
session[:return_to]
continue
session[:return_to]
continue
signed_in?
continue
store_location
continue
signed_in?
continue
current_user
continue
current_user
continue
current_user
continue
current_user
continue
current_user
continue
user
current_user
continue
current_user
continue
root_url
continue
@user
session[:return_to]
continue
current_user
continue
current_user
continue
current_user
continue
current_user
continue
current_user
continue
bookings.select("home_id")
bookings.collect {|b| b.home_id}
continue
Home.where(id: bookings.map(&:home_id)).to_sql
Home.where(id: bookings.map(&:home_id))
bookings.map(&:home_id)
@homes= Home.where('place = ? AND id  NOT IN (?)',place,Home.joins(:bookings)).paginate(page: params[:page]).to_sql
@homes= Home.where('place = ? AND id  NOT IN (?)',place,Home.joins(:bookings)).paginate(page: params[:page]).to_a
@homes= Home.where('place = ? AND id  NOT IN (?)',place,Home.joins(:bookings)).paginate(page: params[:page])
Home.joins(:bookings).to_sql
Home.joins(:bookings)
Home.joins(bookings).to_a
Home.joins(bookings).first
Home.joins(bookings)
Home.joins(bookings).all
Home.joins(bookings).to_a
Home.joins(bookings)
place
Homeplace
bookings
continue
Home.joins(bookings).to_a
Home.joins(bookings)
HOme.joins(bookings)
bookings
continue
Home.joins(:bookings)
Home.joins(bookings).to_a
Home.joins(bookings)
continue
bookings
bookinsg
continue
Home.joins(bookings)
continue
booked
continue
booked
continue
booked
continue
Home.joins(booked).to_a
Home.joins(booked)
continue
booked
continue
b
continue
b
continue
Home.all
Home
bookings
Home.joins(:bookings)
continue
bookings.size
bookings
continue
continue'
continue
bookings_blocked
continue
bookings.joins(:Home).to_a
Home.joins(:bookings).to_a
Home.joins(bookings).to_a
Home.joins(bookings)
bookings
continue
params[:page]
params
continue
bookings
continue
debugger
clear
continue
bookings
bootkings
continue
CONTINUE
bookings = Booking.where("(\"bookings\".\"to\" <= :start_date AND \"bookings\".\"from\" >= :start_date) OR (\"bookings\".\"to\" <= :end_date AND \"bookings\".\"from\" >= :end_date)", {start_date: from_date, end_date: to_date}).to_a
to_date
from_date
bookings = Booking.where("(\"bookings\".\"to\" <= :start_date AND \"bookings\".\"from\" >= :start_date) OR (\"bookings\".\"to\" <= :end_date AND \"bookings\".\"from\" >= :end_date)", {start_date: from_date, end_date: to_date}).to_a
bookings = Booking.where("(\"bookings\".\"to\" <= :start_date AND \"bookings\".\"from\" >= :start_date) OR (\"bookings\".\"to\" <= :end_date AND \"bookings\".\"from\" >= :end_date)", {start_date: from_date, end_date: to_date}).to_sql
bookings = Booking.where("(\"bookings\".\"to\" <= :start_date AND \"bookings\".\"from\" >= :start_date) OR (\"bookings\".\"to\" <= :end_date AND \"bookings\".\"from\" >= :end_date)", {start_date: from_date, end_date: to_date}).to_a
      {start_date: from_date, end_date: to_date}).to_a
    (\"bookings\".\"to\"" <= :end_date AND \"bookings\".\"from\" >= :end_date",
bookings = Booking.where("\"bookings\".\"to\" <= :start_date AND \"bookings\".\"from\" >= :start_date OR 
bookings = Booking.where("\"bookings\".\"to\" <= :start_date AND \"bookings\".\"from\" >= :start_date",{start_date: from_date, end_date: to_date}).to_a
bookings = Booking.where("\"bookings\".to <= :start_date AND \"bookings\".from >= :start_date",{start_date: from_date, end_date: to_date}).to_a
bookings = Booking.where("'bookings'.to <= :start_date AND 'bookings'.from >= :start_date",{start_date: from_date, end_date: to_date}).to_a
bookings = Booking.where("'bookings√¶.to <= :start_date AND 'bookings'.from >= :start_date",{start_date: from_date, end_date: to_date}).to_a
bookings = Booking.where("bookings.to <= :start_date AND bookings.from >= :start_date",{start_date: from_date, end_date: to_date}).to_a
bookings = Booking.where("bookings.to <= :start_date AND bookings.from >= :start_date",{start_date: from_date, end_date: to_date}).to_sql
bookings = Booking.where("to <= :start_date AND from >= :start_date",{start_date: from_date, end_date: to_date}).to_sql
bookings.to_a
bookings = Booking.where("to <= :start_date AND from >= :start_date",{start_date: from_date, end_date: to_date})
bookings = Booking.where("to <= :start_date AND from >= :start_date",{start_date: from_date, end_date: to_date}).to_sql
bookings = Booking.all(conditions: ["to <= :start_date AND from >= :start_date",{start_date: from_date, end_date: to_date}]).to_sql
Booking.where(from: from_date).to_sql
Booking.where(from: from_date).size
Booking.where(to: from_date).size
Booking.where(start_date: from_date).size
Booking.where(start_date: from_date)
to_date
from_date
params
bookings = Booking.all(conditions: ["to <= :start_date AND from >= :start_date",{start_date: from_date, end_date: to_date}])
bookings = Booking.all(conditions: ["(to <= :start_date AND from >= :start_date)",{start_date: from_date, end_date: to_date}])
 Booking.all(conditions: ["(bookings.to <= :start_date AND bookings.from >= :start_date)",{start_date: from_date, end_date: to_date}])
Booking.all.size
continue
@bookings
continue
bookings
continue
('"2018-05-26" < = from_date')
("2018-05-26" < = from_date)?
("2018-05-26" < = from_date)
Booking.select("hotel_id").where('(to <= ? AND from >= ?) OR (from >= ? AND to <= ? )',from_date,from_date,to_date,to_date)
Booking.all.where('(to <= ? AND from >= ?) OR (from >= ? AND to <= ? )',from_date,from_date,to_date,to_date)
Booking.where('(to <= ? AND from >= ?) OR (from >= ? AND to <= ? )',from_date,from_date,to_date,to_date)
Booking.where('(to <= ? AND from >= ?) OR (from >= ? AND to <= ? )',from_date,from_date,to_date,to_date
Booking.where(to: ge(from_date))
Booking.where(to: = from_date)
Booking.where(to: < from_date)
Booking.where(to: <= from_date)
Booking.where(to <= from_date)
to
(to <=from_date) AND (from >= from_date)
to <=from_date AND from >= from_date
continue
bookings[0]
Booking.all.where('to >=from_date')
Booking.all.where(to: >=from_date)
Booking.all
Booking.all(where('to>="2018-06-29"'))
Booking.where('(to>="2018-06-29"')
to_date
from_date
continue
CONTINUE
continue
bookings
continue
Booking.all.where('(from < ?  AND to > ?) OR (from < ? AND to > ?)',to_date,to_date,from_date,from_date)
continue
Home.where('id NOT IN bookings')
Home.where('place =?',place)
Home.where(place: "Hyderabad")
bookings.all
continue
Home.where('id NOT IN (?) AND place = ?',Home.joins(:bookings),place)
bookings = Booking.where('from < ? OR to > ?',to_date,from_date)
